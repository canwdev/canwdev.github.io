<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>瓦时和毫安时换算 (JavaScript 版)</title>
  <style>

    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      margin: 0;
    }

    input {
      margin: 10px;
      padding: 10px;
      width: 200px;
    }

    label {
      display: inline-block;
      width: 120px;
    }

    a {
      color: #007BFF;
    }

    button {
      padding: 10px 15px;
      background-color: #007BFF;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background-color: #0056b3;
    }
    #result {
      color: green;
    }
  </style>
</head>
<body>
<h1>瓦时和毫安时换算</h1>
<div>
  <label for="wh">瓦时 (Wh)：</label>
  <input id="wh" placeholder="输入瓦时" type="number">
  <button id="convertToMah">转换为毫安时</button>
</div>
<div>
  <label for="voltage">电压 (V): </label>
  <input id="voltage" placeholder="0" type="number" value="3.7"/>
</div>
<div>
  <label for="mah">毫安时 (mAh)：</label>
  <input id="mah" placeholder="输入毫安时" type="number">
  <button id="convertToWh">转换为瓦时</button>
</div>
<h2>Result: <span id="result"></span></h2>
<hr>

<h2>说明</h2>
<div>
  Wh读作瓦时，是电量单位，代表电能做功的量；mAh读作毫安时，是电池容量单位，通常用作电池充放电指标。<br>
  <br>
  由 P＝U×I 可知<br>
  Wh＝V×mAh÷1000<br>
  mAh＝Wh÷V×1000<br>
  <br>
  可见，要将Wh和mAh进行换算，必须知道电压。<br>
  <br>
  例如一块电池标示3.7V，16.65Wh，可计算16.65÷3.7×1000＝4500毫安时。另有一节电池标示1.2V，1800mAh，计算可得1.2×1800÷1000＝2.16瓦时。<br>
  <br>
  参考：<a href="https://www.dianziaihaozhe.com/gongju/Wh_mAh/" target="_blank">电学在线工具</a>
</div>

<script>
  document.getElementById('convertToMah').addEventListener('click', function () {
    const wh = parseFloat(document.getElementById('wh').value);
    const volts = parseFloat(document.getElementById('voltage').value);
    if (!isNaN(wh)) {
      const mah = wh / volts * 1000
      document.getElementById('result').textContent = `${wh} Wh = ${parseFloat(mah.toFixed(3))} mAh`;
    } else {
      document.getElementById('result').textContent = "请输入有效的瓦时值";
    }
  });

  document.getElementById('convertToWh').addEventListener('click', function () {
    const mah = parseFloat(document.getElementById('mah').value);
    const volts = parseFloat(document.getElementById('voltage').value);
    if (!isNaN(mah)) {
      const wh = volts * mah / 1000
      document.getElementById('result').textContent = `${mah} mAh = ${parseFloat(wh.toFixed(3))} Wh`;
    } else {
      document.getElementById('result').textContent = "请输入有效的毫安时值";
    }
  });
</script>
</body>
</html>
